<!doctype html>
<html lang="{{ .Site.Language.Lang }}">
  <head>
    {{ partial "head.html" . }}
  </head>
  <body id='{{ replaceRE "(\\s)" "" (lower .Title) }}'class="td-{{ .Kind }} py-3">
    {{ partial "amplitude.html" (dict "context" . "event" "topic viewed") }}
    <header>
      {{ partial "navbar.html" . }}
    </header>
    
    <div class="container-fluid td-outer">
        {{ partial "live-notify.html" . }}
        <div class="td-main ">
            <div class="td-box--primary mt-lg-5 mt-0 py-lg-0">
                <div class='container'>
                    <div class="row align-items-center">
                        <div class="col-12 col-lg-8 py-2 py-lg-5">
                            {{ .Render "content" }}
                        </div>
                    </div>
                </div>
            </div>

            <!-- Description and optional video -->
            <section id="language-header">
                <div class="container">
                    <div class="row">
                        {{ if isset .Params "video" }}
                            <div class="col-8">
                                {{ .Content }}
                            </div>
                            <div class="col-4">
                                bbbbbb
                            </div>
                        {{ else }}
                            <div class="col-10">
                                {{ .Content }}
                            </div>
                        {{ end }}
                    </div>
                </div>
            </section>

            <section id="topics-section">
                <!-- Featured Content -->
                {{ $featured := where (where .Site.Pages "Params.level1" .Params.topic ) "Params.featured" true }}
                <div class='container py-3 py-lg-5'>
                    <div class='d-flex align-items-center icon-title mb-4'><h2 class="mb-0">Featured Content</h2></div>
                    <div class='row'>
                        {{ range first 3 $featured }}
                            {{ partial (printf "%v-card.html" .Section) . }}
                        {{ end }}
                    </div>
                </div>


                <!-- Getting Started-->
                {{ $guides := where (where .Site.Pages "Section" "guides") "Params.level1" .Params.topic }}
                {{ $gettingstarted := slice }}
                {{ range $guides }}
                    {{ if in .Params.tags "Getting Started" }}
                        {{ $gettingstarted = $gettingstarted | append . }}
                    {{ end }}
                {{ end }}
                <div class='container py-3 py-lg-5'>
                    <div class='d-flex align-items-center icon-title mb-4'><h2 class="mb-0">Getting Started</h2></div>
                    <div class='row'>
                        {{ range first 3 $gettingstarted }}
                            {{ partial (printf "%v-card.html" .Section) . }}
                        {{ end }}
                    </div>
                </div>
            </section>
      </div>
      {{ partial "footer.html" . }}
    </div>
    {{ partial "scripts.html" . }}
  </body>
  <script>
    $( ".show-all-button" ).click(function() {
        $(this).parent().parent().find(".hidden-item:first").show( 20, function showNext() {
            $(this).next( ".hidden-item" ).show( 20, showNext );
        });
        $(this).parent().hide();
    });
  </script>

</html>

